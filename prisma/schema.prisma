generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model articles {
  id_article Int        @id @default(autoincrement())
  nom        String?    @db.VarChar(50)
  acheter    Boolean?
  contiens   contiens[]
}

model contiens {
  id_liste   Int
  id_article Int
  qte        Int?     @default(1)
  articles   articles @relation(fields: [id_article], references: [id_article], onDelete: NoAction, onUpdate: NoAction, map: "id_article")
  listes     listes   @relation(fields: [id_liste], references: [id_liste], onDelete: NoAction, onUpdate: NoAction, map: "id_liste")

  @@id([id_liste, id_article])
  @@index([id_article], map: "id_article_idx")
  @@index([id_liste], map: "list")
}

model listes {
  id_liste          Int        @id @default(autoincrement())
  nom               String?    @db.VarChar(50)
  date_creation     DateTime?  @db.DateTime(0)
  date_modification DateTime?  @db.DateTime(0)
  createur          Int?
  modificateur      Int?
  contiens          contiens[]
  possede           possede[]
}

model possede {
  id_utilisateur Int
  id_liste       Int
  listes         listes       @relation(fields: [id_liste], references: [id_liste], onDelete: NoAction, onUpdate: NoAction, map: "id_listes")
  utilisateurs   utilisateurs @relation(fields: [id_utilisateur], references: [id_utilisateur], onDelete: NoAction, onUpdate: NoAction, map: "id_utilisateur")

  @@id([id_utilisateur, id_liste])
  @@index([id_liste], map: "id_liste_idx")
}

model utilisateurs {
  id_utilisateur Int       @id @default(autoincrement())
  nom            String?   @db.VarChar(100)
  prenom         String?   @db.VarChar(100)
  mail           String?   @db.VarChar(255)
  mdp            String?   @db.VarChar(255)
  possede        possede[]
}
